(function(){"use strict";var t={4156:function(t,e,r){var s=r(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Header",{attrs:{user:t.user}}),e("Middle",{attrs:{user:t.user,posts:t.posts,users:t.users}}),e("Footer")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Index")}}},[e("img",{staticClass:"logo",attrs:{src:r(494),alt:"Logo"}})]),t._m(0),e("nav",[e("ul",{staticClass:"nav-menu"},[e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("PsychoRegister")}}},[t._v("For psychologists")])]),e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Users")}}},[t._v("Users")])]),e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Info")}}},[t._v("Info")])]),e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Materials")}}},[t._v("Materials")])]),e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Partners")}}},[t._v("For partners")])]),t.user?e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("UserPage")}}},[t._v("User's page")])]):t._e(),t.user?e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Write post")}}},[t._v("Write post")])]):t._e()])]),e("div",{staticClass:"auth-buttons"},[t.user?[t._v(" "+t._s(t.user.name)+" "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onLogout.apply(null,arguments)}}},[t._v("Logout")])]:[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Enter")}}},[t._v("Enter")]),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage("Register")}}},[t._v("Register")])]],2)])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-content"},[e("h1",[t._v("PsyTech")]),e("h5",[t._v("Gamification of psychological help")])])}],l={name:"Header",props:["user"],methods:{changePage:function(t){this.$root.$emit("onChangePage",t)},onLogout:function(){this.$root.$emit("onLogout"),this.changePage("Index")}}},u=l,c=r(1001),m=(0,c.Z)(u,o,n,!1,null,"55551183",null),d=m.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"middle"},[e("Sidebar",{attrs:{posts:t.viewPosts}}),e("main",["Index"===t.page?e("Index",{attrs:{posts:t.posts}}):t._e(),"Enter"===t.page?e("Enter"):t._e(),"Register"===t.page?e("Register"):t._e(),"Users"===t.page?e("Users",{attrs:{users:t.users}}):t._e(),"WritePost"===t.page?e("WritePost",{attrs:{user:t.user}}):t._e(),"Info"===t.page?e("Info"):t._e(),"Materials"===t.page?e("Materials"):t._e(),"PsychoRegister"===t.page?e("PsychoRegister"):t._e()],1)],1)},f=[],v=function(){var t=this,e=t._self._c;return e("aside")},h=[],g={name:"Sidebar",components:{},props:["posts"]},_=g,w=(0,c.Z)(_,v,h,!1,null,"220fb28c",null),C=w.exports,b=function(){var t=this;t._self._c;return t._m(0)},$=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("section",{staticClass:"content-section"},[e("h2",[t._v("Advantages")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])]),e("section",{staticClass:"content-section"},[e("h2",[t._v("Here your mental health comes first")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])])])}],P={name:"Index",components:{},props:["posts"]},x=P,E=(0,c.Z)(x,b,$,!1,null,"74dc0ca0",null),y=E.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-form"},[e("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.onEnter.apply(null,arguments)}}},[e("h2",[t._v("Login")]),e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(1),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),e("div",{staticClass:"error"},[t._v(t._s(t.error))]),t._m(2)])])},q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"email"}},[t._v("Email:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"login-password"}},[t._v("Password:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn login-btn",attrs:{type:"submit"}},[t._v("Login")])])}],U={name:"Enter",data:function(){return{email:"",password:"",error:""}},methods:{onEnter:function(){this.$root.$emit("onEnter",this.email,this.password)}},beforeCreate(){this.$root.$on("onEnterValidationError",(t=>this.error=t))}},I=U,Z=(0,c.Z)(I,R,q,!1,null,"0295e328",null),D=Z.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-form"},[e("form",{staticClass:"register-form",on:{submit:function(e){return e.preventDefault(),t.onRegister.apply(null,arguments)}}},[e("h2",[t._v("Register")]),e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(1),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(2),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"register-password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(3),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],attrs:{type:"password",id:"register-confirm-password",name:"passwordConfirmation"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})])]),e("div",{staticClass:"error"},[t._v(t._s(t.error))]),t._m(4)])])},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"email"}},[t._v("Email:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"name"}},[t._v("Name:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"register-password"}},[t._v("Password:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"register-confirm-password"}},[t._v("Confirm Password:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn register-btn",attrs:{type:"submit"}},[t._v("Register")])])}],W={name:"Register",data:function(){return{email:"",name:"",password:"",passwordConfirmation:"",error:""}},methods:{onRegister:function(){this.$root.$emit("onRegister",this.email,this.name,this.password,this.passwordConfirmation)}},beforeCreate(){this.$root.$on("onRegisterValidationError",(t=>this.error=t))}},j=W,V=(0,c.Z)(j,k,N,!1,null,"1afa8ec6",null),L=V.exports,T=function(){var t=this,e=t._self._c;return t.users?e("div",{staticClass:"users datatable"},[e("div",{staticClass:"caption"},[t._v("User")]),e("table",[t._m(0),e("tbody",t._l(t.users,(function(t){return e("UserTr",{key:t.id,attrs:{user:t}})})),1)])]):e("div",[t._v(" No users ")])},M=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Id")]),e("th",[t._v("Login")]),e("th",[t._v("Name")])])])}],O=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"id"},[t._v(t._s(t.user.id))]),e("td",{staticClass:"login"},[t._v(t._s(t.user.login))]),e("td",{staticClass:"name"},[t._v(t._s(t.user.name))])])},S=[],F={name:"UserTr",props:["user"]},A=F,H=(0,c.Z)(A,O,S,!1,null,"162bc929",null),J=H.exports,G={name:"Users",components:{UserTr:J},props:["users"]},Y=G,z=(0,c.Z)(Y,T,M,!1,null,"55d08977",null),B=z.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-form"},[e("div",{staticClass:"header"},[t._v("Write Post")]),e("div",{staticClass:"body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onWritePost.apply(null,arguments)}}},[e("div",{staticClass:"field"},[t._m(0),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),e("div",{staticClass:"field"},[t._m(1),e("div",{staticClass:"value"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{id:"text",name:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),e("div",{staticClass:"error"},[t._v(t._s(t.error))]),t._m(2)])])])},Q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"title"}},[t._v("Title:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"text"}},[t._v("Text:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"button-field"},[e("input",{attrs:{type:"submit",value:"Write"}})])}],X={name:"WritePost",data:function(){return{title:"",text:"",error:""}},methods:{onWritePost:function(){this.error="",this.$root.$emit("onWritePost",this.title,this.text)}},beforeMount(){this.$root.$on("onWritePostValidationError",(t=>this.error=t))}},tt=X,et=(0,c.Z)(tt,K,Q,!1,null,"6ee6d17c",null),rt=et.exports,st=function(){var t=this;t._self._c;return t._m(0)},it=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("section",{staticClass:"content"},[e("h2",[t._v("Useful information")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])])])}],at={name:"Info"},ot=at,nt=(0,c.Z)(ot,st,it,!1,null,"63be4449",null),lt=nt.exports,ut=function(){var t=this;t._self._c;return t._m(0)},ct=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("section",{staticClass:"content"},[e("h2",[t._v("Useful materials")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])])])}],mt={name:"Materials"},dt=mt,pt=(0,c.Z)(dt,ut,ct,!1,null,"bb4458e6",null),ft=pt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-form"},[e("form",{staticClass:"register-form",on:{submit:function(e){return e.preventDefault(),t.onRegister.apply(null,arguments)}}},[e("h2",[t._v("Register")]),e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(1),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(2),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"register-password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(3),e("div",{staticClass:"value"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],attrs:{type:"password",id:"register-confirm-password",name:"passwordConfirmation"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})])]),e("div",{staticClass:"error"},[t._v(t._s(t.error))]),t._m(4)])])},ht=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"email"}},[t._v("Email:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"name"}},[t._v("Name:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"register-password"}},[t._v("Password:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"name"},[e("label",{attrs:{for:"register-confirm-password"}},[t._v("Confirm Password:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn register-btn",attrs:{type:"submit"}},[t._v("Register")])])}],gt={name:"PsychoRegister",data:function(){return{email:"",name:"",password:"",passwordConfirmation:"",error:""}},methods:{onRegister:function(){this.$root.$emit("onRegister",this.email,this.name,this.password,this.passwordConfirmation)}},beforeCreate(){this.$root.$on("onRegisterValidationError",(t=>this.error=t))}},_t=gt,wt=(0,c.Z)(_t,vt,ht,!1,null,"fd2a9cc4",null),Ct=wt.exports,bt={name:"Middle",data:function(){return{page:"Index"}},components:{PsychoRegister:Ct,WritePost:rt,Users:B,Register:L,Enter:D,Index:y,Sidebar:C,Info:lt,Materials:ft},props:["user","posts","users"],computed:{viewPosts:function(){return Object.values(this.posts).sort(((t,e)=>e.id-t.id)).slice(0,2)}},beforeCreate(){this.$root.$on("onChangePage",(t=>this.page=t))}},$t=bt,Pt=(0,c.Z)($t,p,f,!1,null,"439339c8",null),xt=Pt.exports,Et=function(){var t=this,e=t._self._c;return e("footer")},yt=[],Rt={name:"Footer"},qt=Rt,Ut=(0,c.Z)(qt,Et,yt,!1,null,"c38f63ac",null),It=Ut.exports,Zt=r(4311),Dt={name:"App",components:{Footer:It,Middle:xt,Header:d},data:function(){return{user:null,posts:[],users:[]}},methods:{updateAll(){this.$root.$emit("onUpdatePosts"),this.$root.$emit("onUpdateUsers")},stopTimer(){this.interval&&window.clearInterval(this.interval)},startTimer(){this.stopTimer(),this.interval=window.setInterval((()=>{this.updateAll()}),1e4)}},mounted(){this.startTimer()},beforeDestroy(){this.stopTimer()},beforeMount(){this.updateAll()},beforeCreate(){this.$root.$on("onEnter",((t,e)=>{""!==e?Zt.Z.post("/api/1/jwt",{email:t,password:e}).then((t=>{localStorage.setItem("jwt",t.data),this.$root.$emit("onJwt",t.data)})).catch((t=>{this.$root.$emit("onEnterValidationError",t.response.data)})):this.$root.$emit("onEnterValidationError","Password is required")})),this.$root.$on("onRegister",((t,e,r,s)=>{""!==t?""!==e?""!==r?""!==s?Zt.Z.post("/api/1/users/register",{email:t,name:e,password:r,passwordConfirmation:s}).then((t=>{localStorage.setItem("jwt",t.data),this.$root.$emit("onUpdateUsers"),this.$root.$emit("onJwt",t.data)})).catch((t=>{this.$root.$emit("onRegisterValidationError",t.response.data)})):this.$root.$emit("onRegisterValidationError","Password confirmation is required"):this.$root.$emit("onRegisterValidationError","Password is required"):this.$root.$emit("onRegisterValidationError","Name is required"):this.$root.$emit("onRegisterValidationError","Email is required")})),this.$root.$on("onJwt",(t=>{localStorage.setItem("jwt",t),Zt.Z.get("/api/1/users/auth",{params:{jwt:t}}).then((t=>{this.user=t.data,this.$root.$emit("onChangePage","Index")})).catch((()=>this.$root.$emit("onLogout")))})),this.$root.$on("onLogout",(()=>{localStorage.removeItem("jwt"),this.user=null,this.$root.$emit("onChangePage","Index")})),this.$root.$on("onWritePost",((t,e)=>{const r=this.user;if(null===r)return void this.$root.$emit("onWritePostValidationError","You should login before write post");if(""===t)return void this.$root.$emit("onWritePostValidationError","title is required");if(""===e)return void this.$root.$emit("onWritePostValidationError","text is required");const s=localStorage.getItem("jwt");Zt.Z.post("/api/1/posts/writePost",{title:t,text:e},{params:{jwt:s}}).then((()=>{this.$root.$emit("onUpdatePosts")})).catch((t=>{this.$root.$emit("onWritePostValidationError",t.response.data)}))})),this.$root.$on("onUpdateUsers",(()=>{Zt.Z.get("/api/1/users").then((t=>{this.users=t.data}))})),this.$root.$on("onUpdatePosts",(()=>{Zt.Z.get("/api/1/posts").then((t=>{this.posts=t.data}))}))}},kt=Dt,Nt=(0,c.Z)(kt,i,a,!1,null,null,null),Wt=Nt.exports;s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(Wt)}).$mount("#app")},494:function(t,e,r){t.exports=r.p+"img/ico.d21bf543.png"}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,s,i,a){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],a=t[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](s[l])}))?s.splice(l--,1):(n=!1,a<o&&(o=a));if(n){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[s,i,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,a,o=s[0],n=s[1],l=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)r.o(n,i)&&(r.m[i]=n[i]);if(l)var c=l(r)}for(e&&e(s);u<o.length;u++)a=o[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(c)},s=self["webpackChunkhw11"]=self["webpackChunkhw11"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(4156)}));s=r.O(s)})();
//# sourceMappingURL=app.6c823b79.js.map